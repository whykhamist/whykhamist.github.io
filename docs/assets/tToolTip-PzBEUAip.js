import{a as n,c as v,w as D,o as M,F as z,d as g,e as E,l as F,f as x,z as P,B as k,q as R,p as C,h as U,g as V,m as q,v as J,x as K,T as X,J as Y,K as G}from"./index-X5AUvwv7.js";import{u as H,o as Q,f as W,s as Z,a as O,b as _}from"./floating-ui.vue.esm-4jgX_A2q.js";import{t as B}from"./transitions-WlMxEuXQ.js";const ee=G({name:"TToolTip",inheritAttrs:!1}),re=Object.assign(ee,{props:{tag:{type:String,default:"div"},position:{type:String,default:"bottom",validator:o=>["left","top","right","bottom","left-start","top-start","right-start","bottom-start","left-end","top-end","right-end","bottom-end"].indexOf(o)>-1},offset:{type:Number,default:8},arrow:{type:Boolean,default:!1},contain:{type:Boolean,default:!1},pointerEvents:{type:Boolean,default:!1},delay:{type:Number,default:350},hideDelay:{type:Number,default:150},hideOnClick:{type:Boolean,default:!0},showEvents:{type:Object,default:["mouseenter","focus"]},hideEvents:{type:Object,default:["mouseleave","blur"]},transitionName:{type:String,default:"opacity",validator:o=>B._names.indexOf(o)>-1}},setup(o){const a=o,p=n(null),r=n(!1),c=n(),h=n(!1),u=n(!1),l=n(null),s=n(null),d=v(()=>{var t;return(t=p.value)==null?void 0:t.parentElement}),{x:T,y:$,strategy:I,isPositioned:N,middlewareData:y,placement:S}=H(d,p,{open:r,placement:a.position,transform:!1,strategy:"fixed",middleware:[Q(a.offset),W(),Z({padding:5}),O({element:c,padding:a.position.split("-").length>1?7:1})],whileElementsMounted:(...t)=>_(...t,{animationFrame:!0})}),L=v(()=>({left:`${T.value}px`,top:`${$.value}px`,position:I.value})),j=v(()=>{var e;let t=[];if((e=y.value)!=null&&e.arrow){const{x:i,y:b}=y.value.arrow,w={left:"right",right:"left",top:"bottom",bottom:"top"}[S.value.split("-")[0]];Object.assign(c.value.style,{left:i?`${i}px`:"",top:b?`${b}px`:"",right:"",bottom:"",[w]:"-4px"}),t={bottom:"-rotate-[135deg]",top:"rotate-45",left:"-rotate-45",right:"rotate-[135deg]"}[w]}return t}),A=v(()=>Object.assign({},B[a.transitionName],{enterActiveClass:"transition duration-300",leaveActiveClass:"transition duration-300"})),m=()=>{l.value&&clearInterval(l.value),s.value&&clearInterval(s.value),s.value=setInterval(()=>{r.value=!0,clearInterval(s.value)},a.delay)},f=()=>{l.value&&clearInterval(l.value),s.value&&clearInterval(s.value),l.value=setInterval(()=>{r.value=!1,clearInterval(l.value)},a.hideDelay)};return D(N,t=>{}),M(()=>{a.showEvents.forEach(t=>{var e;(e=d.value)==null||e.addEventListener(t,m)}),a.hideEvents.forEach(t=>{var e;(e=d.value)==null||e.addEventListener(t,f)}),h.value=!0}),z(()=>{a.hideEvents.forEach(t=>{var e;(e=d.value)==null||e.removeEventListener(t,m)}),a.showEvents.forEach(t=>{var e;(e=d.value)==null||e.removeEventListener(t,f)})}),(t,e)=>(g(),E(Y,{to:"body",disabled:!h.value||o.contain},[F(X,k(A.value,{onBeforeLeave:e[1]||(e[1]=i=>u.value=!0),onAfterEnter:e[2]||(e[2]=i=>u.value=!1),onAfterLeave:e[3]||(e[3]=i=>u.value=!1)}),{default:x(()=>[K((g(),E(P(o.tag),k({class:["relative !z-[1027] transform rounded-lg border border-foreground/25 bg-background px-2 py-1 text-foreground drop-shadow-md",[(!o.pointerEvents||u.value)&&"pointer-events-none"]],ref_key:"floating",ref:p,style:L.value,"aria-hidden":"true"},t.$attrs,{onMouseenter:m,onMouseleave:f,onClick:e[0]||(e[0]=i=>o.hideOnClick&&f())}),{default:x(()=>[r.value||!r.value&&u.value?R(t.$slots,"default",{key:0,close:()=>f}):C("",!0),U(O)?(g(),q("div",{key:1,class:V(["absolute h-2 w-2 border-l border-t border-inherit bg-inherit",j.value]),ref_key:"arrowRef",ref:c},null,2)):C("",!0)]),_:3},16,["class","style"])),[[J,r.value]])]),_:3},16)],8,["disabled"]))}});export{re as default};
