import{a as b,a1 as U,c as k,w as q,b as h,d as e,e as v,f as C,q as z,g as i,t as F,m,l,s as t,h as c,p as T,A as u,_ as d}from"./index-2sZdn9Tb.js";const G={class:"absolute right-2 top-2"},J={class:"absolute inset-x-0 top-0 flex items-center gap-2 border-b border-dark bg-dark/20 px-3 py-1 shadow-md backdrop-blur-sm transition md:-translate-y-full md:group-hover:translate-y-0"},K={class:"flex flex-auto items-center justify-evenly gap-2 text-light"},Q={class:"absolute inset-x-0 bottom-0 grid grid-cols-3 py-1"},W=t("div",null,null,-1),X={class:"flex items-center justify-center"},Y={class:"flex items-center text-light"},ee={__name:"index",props:{modelValue:Object,wrapperClass:{type:[String,Object],default:""}},emits:["update:modelValue","capture"],setup(V,{emit:w}){const E=u(()=>d(()=>import("./stream-nL-29_xs.js"),__vite__mapDeps([0,1,2]))),A=u(()=>d(()=>import("./devices-xBOluU4j.js"),__vite__mapDeps([3,1,2]))),I=u(()=>d(()=>import("./grid-P9Wwz6A9.js"),__vite__mapDeps([4,5,1,2]))),O=u(()=>d(()=>import("./torcher-1Bkq33Iv.js"),__vite__mapDeps([6,1,2]))),D=u(()=>d(()=>import("./capture-kmo1y6CO.js"),__vite__mapDeps([7,1,2]))),o=V,y=w,n=b(!0),r=b(o.modelValue??null),L=U(o,"modelValue",y),g=k(()=>r.value?URL.createObjectURL(r.value):null),p=k(()=>Array.isArray(o.wrapperClass)?o.wrapperClass:[o.wrapperClass]),R=s=>{r.value=s};return q(r,s=>{y("capture",s),L.value=s}),(s,_)=>{const B=h("TImage"),P=h("TIcon"),f=h("TButton");return e(),v(c(A),{pause:!!g.value},{default:C(({stream:a,loading:j,prompting:S,devices:N,cycle:$,capabilities:H,error:x})=>[z(s.$slots,"default"),x?(e(),m("div",{key:0,class:i(["text-negative",p.value])},F(x.message),3)):g.value?(e(),m("div",{key:1,class:i(["relative",p.value])},[l(B,{src:g.value,class:"h-full rounded-md"},null,8,["src"]),t("div",G,[l(f,{class:"rounded-full p-1",onClick:_[0]||(_[0]=M=>r.value=null)},{default:C(()=>[l(P,{name:"close",class:"text-light drop-shadow"})]),_:1})])],2)):!j&&!S?(e(),m("div",{key:2,class:i(["group relative overflow-hidden",p.value])},[(e(),v(c(E),{stream:a,key:(a==null?void 0:a.id)??"_pending",class:"",style:{}},null,8,["stream"])),n.value?(e(),v(c(I),{key:0})):T("",!0),t("div",J,[t("div",K,[l(c(O),{stream:a,capabilities:H},null,8,["stream","capabilities"]),l(f,{icon:n.value?"grid_on":"grid_off",class:i(["noTapHighlight rounded-full p-2",[n.value&&"text-warning"]]),onClick:_[1]||(_[1]=M=>n.value=!n.value)},null,8,["icon","class"])])]),t("div",Q,[W,t("div",X,[l(c(D),{stream:a,onCapture:R},null,8,["stream"])]),t("div",Y,[N.length>1?(e(),v(f,{key:0,icon:"cameraswitch",class:"noTapHighlight rounded-full p-2",onClick:$},null,8,["onClick"])):T("",!0)])])],2)):(e(),m("div",{key:3,class:i(["text-center font-semibold text-primary",[p.value]])}," Loading Devices... ",2))]),_:3},8,["pause"])}}};export{ee as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/stream-nL-29_xs.js","assets/index-2sZdn9Tb.js","assets/index-6bvjz7fl.css","assets/devices-xBOluU4j.js","assets/grid-P9Wwz6A9.js","assets/_plugin-vue_export-helper-x3n3nnut.js","assets/torcher-1Bkq33Iv.js","assets/capture-kmo1y6CO.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}