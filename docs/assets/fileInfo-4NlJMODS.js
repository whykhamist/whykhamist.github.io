import{c as T,W as d,b as n,d as c,m,s as t,l,x as N,X as k,y as f,t as u,h as B,g,q as C,p as V,af as x}from"./index-2sZdn9Tb.js";const F={class:"flex justify-center px-2 leading-none"},S={class:"grid flex-auto gap-1 leading-none"},z={class:"overflow-x-hidden whitespace-nowrap border-b border-foreground/50 text-xs font-semibold leading-tight"},j=["disabled"],E={class:"flex items-center"},I={class:"flex-auto"},M={class:"text-xs leading-none"},D=t("span",{class:"font-semibold"},"Size: ",-1),P={class:"line-clamp-1 overflow-x-hidden text-xs leading-none"},U=t("span",{class:"font-semibold"},"Type: ",-1),W={class:"flex items-center justify-center px-2"},$={key:0,class:"flex items-stretch justify-stretch self-stretch overflow-x-hidden whitespace-nowrap rounded-l-lg border-y border-l border-foreground/50 transition group-hover/file:translate-x-0 md:absolute md:inset-y-0 md:right-0 md:translate-x-full"},H={__name:"fileInfo",props:{file:File,rename:{type:String,default:null},readonly:{type:Boolean,default:!1},progress:{type:Number,default:0,validator:e=>e>=0&&e<=100}},emits:["remove","update:rename"],setup(e,{emit:v}){const p=e,i=v,a=T({get:()=>p.rename,set:s=>i("update:rename",d.filenameValidator(s))}),h=s=>x.extractExtension(s.name),b=s=>{if(s.type)return s.type;{let o=x.lookup(s.name);return o||"UNKNOWN"}};return(s,o)=>{const y=n("TFileIcon"),w=n("TProgressCircle"),_=n("TButton");return c(),m("div",{class:g(["group/file relative flex w-full flex-auto select-none items-center overflow-hidden py-1 leading-none transition",[e.readonly&&"select-none text-gray-400"]])},[t("div",F,[l(y,{name:h(e.file),class:"w-8"},null,8,["name"])]),t("div",S,[t("div",z,[N(t("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>a.value=r),class:"w-full overflow-hidden bg-inherit px-1 outline-none",maxlength:"255",disabled:e.readonly},null,8,j),[[k,a.value]])]),t("div",E,[t("div",I,[t("div",M,[D,f(" "+u(B(d).formatFileSize(e.file.size)),1)]),t("div",P,[U,f(" "+u(b(e.file)),1)])]),t("div",W,[l(w,{value:e.progress,class:g(["!w-7 from-positive via-positive to-positive text-xs transition before:w-[70%] before:!bg-background",[!e.progress&&"invisible"]])},null,8,["value","class"])])])]),e.readonly?V("",!0):(c(),m("div",$,[C(s.$slots,"actions",{file:e.file,progress:e.progress}),l(_,{icon:"delete",class:"bg-negative/75 px-1 text-light",tabindex:"-1",onClick:o[1]||(o[1]=r=>i("remove"))})]))],2)}}};export{H as default};
