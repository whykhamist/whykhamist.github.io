import{a as r,W as u,c as o,w as b,b as k,d as v,m as c,q as p,g as y,s as E,t as A,p as S,l as z}from"./index-X5AUvwv7.js";const H=["id"],B={__name:"tReadMore",props:{overlayExpandedClass:{type:[String,Array],default:"rounded-lg bg-foreground/10"},overlayCollapsedClass:{type:[String,Array],default:"bg-gradient-to-t from-dark"}},setup(f){const s=f,t=r(null),e=r(!1),d=r(0),n=r(u.uniqid("readmore")),i=o(()=>{var a,l;return{offset:((a=t.value)==null?void 0:a.offsetHeight)??0,scroll:((l=t.value)==null?void 0:l.scrollHeight)??0}}),m=o(()=>e.value?["",...C.value]:["absolute inset-0",...g.value]),C=o(()=>Array.isArray(s.overlayExpandedClass)?s.overlayExpandedClass:[s.overlayExpandedClass]),g=o(()=>Array.isArray(s.overlayCollapsedClass)?s.overlayCollapsedClass:[s.overlayCollapsedClass]),x=o(()=>i.value.offset<i.value.scroll),_=a=>{d.value=a.scrollHeight-(e.value?20:0)};return b(d,a=>{n.value=u.uniqid("readmore")}),(a,l)=>{const h=k("SizeObserver");return v(),c("div",{id:n.value,class:y(["relative",[e.value&&"!line-clamp-none"]]),ref_key:"container",ref:t,key:n.value},[p(a.$slots,"default",{expanded:e.value}),x.value?(v(),c("div",{key:0,class:y(["flex flex-col items-stretch justify-end",m.value])},[p(a.$slots,"readmore",{expanded:e.value},()=>[E("div",{class:"cursor-pointer select-none text-center text-sm font-semibold h-5",onClick:l[0]||(l[0]=R=>e.value=!e.value)}," Read "+A(e.value?"Less":"More"),1)])],2)):S("",!0),z(h,{onResize:_})],10,H)}}};export{B as default};
