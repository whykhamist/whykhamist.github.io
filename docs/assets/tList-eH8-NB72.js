import{u as z,o as P,y as xe,c as ye,l as ne,K as he,H as ee,T as be,t as ue,m as Se,N as ie,p as Oe,O as Ce,a as M,e as Re,U as we}from"./headlessui-float-7kWDVlSA.js";import{K as te,a as V,c as x,Z as C,L as Ie,o as re,w as _,$ as ce,I as ve,N as pe,M as ke,n as W,O as Pe,a0 as Te,C as Ve,a1 as Fe,b as ae,d as N,e as Q,f as H,h as g,B as fe,t as J,s as Y,q,p as G,l as U,P as me,m as X,g as Z,y as Ae,R as Be,S as $e,Q as Ee,i as de,a2 as De,a3 as Le,x as Ke}from"./index-X5AUvwv7.js";import{s as Ne,l as Me}from"./floating-ui.vue.esm-4jgX_A2q.js";import{x as je,a as A,b as He,u as ze}from"./use-tracked-pointer-40PgHg3E.js";import{p as Ue}from"./use-tree-walker-BS_Wq0Zw.js";import{f as qe,a as We}from"./hidden-S2iKyMKq.js";import{d as Qe,e as Je}from"./use-controllable-akbfLaBv.js";function Ye(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ge(){return/Android/gi.test(window.navigator.userAgent)}function Xe(){return Ye()||Ge()}function Ze(e,T){return e===T}var _e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_e||{}),et=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(et||{}),tt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tt||{});let ge=Symbol("ComboboxContext");function le(e){let T=Pe(ge,null);if(T===null){let B=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(B,le),B}return T}let lt=te({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ze},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:T,attrs:B,emit:D}){let l=V(1),t=V(null),O=V(null),p=V(null),d=V(null),b=V({static:!1,hold:!1}),m=V([]),c=V(null),v=V(1),F=V(!1);function j(a=i=>i){let i=c.value!==null?m.value[c.value]:null,r=Ce(a(m.value.slice()),f=>P(f.dataRef.domRef)),u=i?r.indexOf(i):null;return u===-1&&(u=null),{options:r,activeOptionIndex:u}}let E=x(()=>e.multiple?1:0),S=x(()=>e.nullable),[n,y]=Qe(x(()=>e.modelValue),a=>D("update:modelValue",a),x(()=>e.defaultValue)),h=x(()=>n.value===void 0?z(E.value,{1:[],0:void 0}):n.value),$=null,I=null,s={comboboxState:l,value:h,mode:E,compare(a,i){if(typeof e.by=="string"){let r=e.by;return(a==null?void 0:a[r])===(i==null?void 0:i[r])}return e.by(a,i)},defaultValue:x(()=>e.defaultValue),nullable:S,inputRef:O,labelRef:t,buttonRef:p,optionsRef:d,disabled:x(()=>e.disabled),options:m,change(a){y(a)},activeOptionIndex:x(()=>{if(F.value&&c.value===null&&m.value.length>0){let a=m.value.findIndex(i=>!i.dataRef.disabled);a!==-1&&(c.value=a)}return c.value}),activationTrigger:v,optionsPropsRef:b,closeCombobox(){F.value=!1,!e.disabled&&l.value!==1&&(l.value=1,c.value=null)},openCombobox(){if(F.value=!0,e.disabled||l.value===0)return;let a=m.value.findIndex(i=>{let r=C(i.dataRef.value);return z(E.value,{0:()=>s.compare(C(s.value.value),C(r)),1:()=>C(s.value.value).some(u=>s.compare(C(u),C(r)))})});a!==-1&&(c.value=a),l.value=0},goToOption(a,i,r){F.value=!1,$!==null&&cancelAnimationFrame($),$=requestAnimationFrame(()=>{if(e.disabled||d.value&&!b.value.static&&l.value===1)return;let u=j();if(u.activeOptionIndex===null){let R=u.options.findIndex(k=>!k.dataRef.disabled);R!==-1&&(u.activeOptionIndex=R)}let f=je(a===A.Specific?{focus:A.Specific,id:i}:{focus:a},{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});c.value=f,v.value=r??1,m.value=u.options})},selectOption(a){let i=m.value.find(u=>u.id===a);if(!i)return;let{dataRef:r}=i;y(z(E.value,{0:()=>r.value,1:()=>{let u=C(s.value.value).slice(),f=C(r.value),R=u.findIndex(k=>s.compare(f,C(k)));return R===-1?u.push(f):u.splice(R,1),u}}))},selectActiveOption(){if(s.activeOptionIndex.value===null)return;let{dataRef:a,id:i}=m.value[s.activeOptionIndex.value];y(z(E.value,{0:()=>a.value,1:()=>{let r=C(s.value.value).slice(),u=C(a.value),f=r.findIndex(R=>s.compare(u,C(R)));return f===-1?r.push(u):r.splice(f,1),r}})),s.goToOption(A.Specific,i)},registerOption(a,i){I&&cancelAnimationFrame(I);let r={id:a,dataRef:i},u=j(f=>(f.push(r),f));if(c.value===null){let f=i.value.value;z(E.value,{0:()=>s.compare(C(s.value.value),C(f)),1:()=>C(s.value.value).some(R=>s.compare(C(R),C(f)))})&&(u.activeOptionIndex=u.options.indexOf(r))}m.value=u.options,c.value=u.activeOptionIndex,v.value=1,u.options.some(f=>!P(f.dataRef.domRef))&&(I=requestAnimationFrame(()=>{let f=j();m.value=f.options,c.value=f.activeOptionIndex}))},unregisterOption(a){var i;s.activeOptionIndex.value!==null&&((i=s.options.value[s.activeOptionIndex.value])==null?void 0:i.id)===a&&(F.value=!0);let r=j(u=>{let f=u.findIndex(R=>R.id===a);return f!==-1&&u.splice(f,1),u});m.value=r.options,c.value=r.activeOptionIndex,v.value=1}};xe([O,p,d],()=>s.closeCombobox(),x(()=>l.value===0)),Ie(ge,s),ye(x(()=>z(l.value,{0:ne.Open,1:ne.Closed})));let L=x(()=>s.activeOptionIndex.value===null?null:m.value[s.activeOptionIndex.value].dataRef.value),o=x(()=>{var a;return(a=P(O))==null?void 0:a.closest("form")});return re(()=>{_([o],()=>{if(!o.value||e.defaultValue===void 0)return;function a(){s.change(e.defaultValue)}return o.value.addEventListener("reset",a),()=>{var i;(i=o.value)==null||i.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,disabled:i,form:r,...u}=e,f={open:l.value===0,disabled:i,activeIndex:s.activeOptionIndex.value,activeOption:L.value,value:h.value};return ce(ve,[...a!=null&&h.value!=null?Je({[a]:h.value}).map(([R,k])=>ce(qe,he({features:We.Hidden,key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,name:R,value:k}))):[],ee({theirProps:{...B,...be(u,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:f,slots:T,attrs:B,name:"Combobox"})])}}}),oe=te({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${ue()}`}},setup(e,{attrs:T,slots:B,expose:D}){let l=le("ComboboxButton");D({el:l.buttonRef,$el:l.buttonRef});function t(d){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(d.preventDefault(),l.openCombobox()),W(()=>{var b;return(b=P(l.inputRef))==null?void 0:b.focus({preventScroll:!0})}))}function O(d){switch(d.key){case M.ArrowDown:d.preventDefault(),d.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),W(()=>{var b;return(b=l.inputRef.value)==null?void 0:b.focus({preventScroll:!0})});return;case M.ArrowUp:d.preventDefault(),d.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),W(()=>{l.value.value||l.goToOption(A.Last)})),W(()=>{var b;return(b=l.inputRef.value)==null?void 0:b.focus({preventScroll:!0})});return;case M.Escape:if(l.comboboxState.value!==0)return;d.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&d.stopPropagation(),l.closeCombobox(),W(()=>{var b;return(b=l.inputRef.value)==null?void 0:b.focus({preventScroll:!0})});return}}let p=He(x(()=>({as:e.as,type:T.type})),l.buttonRef);return()=>{var d,b;let m={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:c,...v}=e,F={ref:l.buttonRef,id:c,type:p.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(d=P(l.optionsRef))==null?void 0:d.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(b=P(l.labelRef))==null?void 0:b.id,c].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:O,onClick:t};return ee({ourProps:F,theirProps:v,slot:m,attrs:T,slots:B,name:"ComboboxButton"})}}}),at=te({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${ue()}`}},emits:{change:e=>!0},setup(e,{emit:T,attrs:B,slots:D,expose:l}){let t=le("ComboboxInput"),O=x(()=>Se(P(t.inputRef))),p={value:!1};l({el:t.inputRef,$el:t.inputRef});function d(){t.change(null);let n=P(t.optionsRef);n&&(n.scrollTop=0),t.goToOption(A.Nothing)}let b=x(()=>{var n;let y=t.value.value;return P(t.inputRef)?typeof e.displayValue<"u"&&y!==void 0?(n=e.displayValue(y))!=null?n:"":typeof y=="string"?y:"":""});re(()=>{_([b,t.comboboxState,O],([n,y],[h,$])=>{if(p.value)return;let I=P(t.inputRef);I&&(($===0&&y===1||n!==h)&&(I.value=n),requestAnimationFrame(()=>{var s;if(p.value||!I||((s=O.value)==null?void 0:s.activeElement)!==I)return;let{selectionStart:L,selectionEnd:o}=I;Math.abs((o??0)-(L??0))===0&&L===0&&I.setSelectionRange(I.value.length,I.value.length)}))},{immediate:!0}),_([t.comboboxState],([n],[y])=>{if(n===0&&y===1){if(p.value)return;let h=P(t.inputRef);if(!h)return;let $=h.value,{selectionStart:I,selectionEnd:s,selectionDirection:L}=h;h.value="",h.value=$,L!==null?h.setSelectionRange(I,s,L):h.setSelectionRange(I,s)}})});let m=V(!1);function c(){m.value=!0}function v(){Re().nextFrame(()=>{m.value=!1})}function F(n){switch(p.value=!0,n.key){case M.Enter:if(p.value=!1,t.comboboxState.value!==0||m.value)return;if(n.preventDefault(),n.stopPropagation(),t.activeOptionIndex.value===null){t.closeCombobox();return}t.selectActiveOption(),t.mode.value===0&&t.closeCombobox();break;case M.ArrowDown:return p.value=!1,n.preventDefault(),n.stopPropagation(),z(t.comboboxState.value,{0:()=>t.goToOption(A.Next),1:()=>t.openCombobox()});case M.ArrowUp:return p.value=!1,n.preventDefault(),n.stopPropagation(),z(t.comboboxState.value,{0:()=>t.goToOption(A.Previous),1:()=>{t.openCombobox(),W(()=>{t.value.value||t.goToOption(A.Last)})}});case M.Home:if(n.shiftKey)break;return p.value=!1,n.preventDefault(),n.stopPropagation(),t.goToOption(A.First);case M.PageUp:return p.value=!1,n.preventDefault(),n.stopPropagation(),t.goToOption(A.First);case M.End:if(n.shiftKey)break;return p.value=!1,n.preventDefault(),n.stopPropagation(),t.goToOption(A.Last);case M.PageDown:return p.value=!1,n.preventDefault(),n.stopPropagation(),t.goToOption(A.Last);case M.Escape:if(p.value=!1,t.comboboxState.value!==0)return;n.preventDefault(),t.optionsRef.value&&!t.optionsPropsRef.value.static&&n.stopPropagation(),t.nullable.value&&t.mode.value===0&&t.value.value===null&&d(),t.closeCombobox();break;case M.Tab:if(p.value=!1,t.comboboxState.value!==0)return;t.mode.value===0&&t.selectActiveOption(),t.closeCombobox();break}}function j(n){T("change",n),t.nullable.value&&t.mode.value===0&&n.target.value===""&&d(),t.openCombobox()}function E(){p.value=!1}let S=x(()=>{var n,y,h,$;return($=(h=(y=e.defaultValue)!=null?y:t.defaultValue.value!==void 0?(n=e.displayValue)==null?void 0:n.call(e,t.defaultValue.value):null)!=null?h:t.defaultValue.value)!=null?$:""});return()=>{var n,y,h,$,I,s;let L={open:t.comboboxState.value===0},{id:o,displayValue:a,onChange:i,...r}=e,u={"aria-controls":(n=t.optionsRef.value)==null?void 0:n.id,"aria-expanded":t.comboboxState.value===0,"aria-activedescendant":t.activeOptionIndex.value===null||(y=t.options.value[t.activeOptionIndex.value])==null?void 0:y.id,"aria-labelledby":(I=(h=P(t.labelRef))==null?void 0:h.id)!=null?I:($=P(t.buttonRef))==null?void 0:$.id,"aria-autocomplete":"list",id:o,onCompositionstart:c,onCompositionend:v,onKeydown:F,onInput:j,onBlur:E,role:"combobox",type:(s=B.type)!=null?s:"text",tabIndex:0,ref:t.inputRef,defaultValue:S.value,disabled:t.disabled.value===!0?!0:void 0};return ee({ourProps:u,theirProps:r,slot:L,attrs:B,slots:D,features:ie.RenderStrategy|ie.Static,name:"ComboboxInput"})}}}),ot=te({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:T,slots:B,expose:D}){let l=le("ComboboxOptions"),t=`headlessui-combobox-options-${ue()}`;D({el:l.optionsRef,$el:l.optionsRef}),pe(()=>{l.optionsPropsRef.value.static=e.static}),pe(()=>{l.optionsPropsRef.value.hold=e.hold});let O=Oe(),p=x(()=>O!==null?(O.value&ne.Open)===ne.Open:l.comboboxState.value===0);return Ue({container:x(()=>P(l.optionsRef)),enabled:x(()=>l.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}}),()=>{var d,b,m;let c={open:l.comboboxState.value===0},v={"aria-labelledby":(m=(d=P(l.labelRef))==null?void 0:d.id)!=null?m:(b=P(l.buttonRef))==null?void 0:b.id,id:t,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},F=be(e,["hold"]);return ee({ourProps:v,theirProps:F,slot:c,attrs:T,slots:B,features:ie.RenderStrategy|ie.Static,visible:p.value,name:"ComboboxOptions"})}}}),nt=te({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:T,attrs:B,expose:D}){let l=le("ComboboxOption"),t=`headlessui-combobox-option-${ue()}`,O=V(null);D({el:O,$el:O});let p=x(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===t:!1),d=x(()=>z(l.mode.value,{0:()=>l.compare(C(l.value.value),C(e.value)),1:()=>C(l.value.value).some(S=>l.compare(C(S),C(e.value)))})),b=x(()=>({disabled:e.disabled,value:e.value,domRef:O}));re(()=>l.registerOption(t,b)),ke(()=>l.unregisterOption(t)),pe(()=>{l.comboboxState.value===0&&p.value&&l.activationTrigger.value!==0&&W(()=>{var S,n;return(n=(S=P(O))==null?void 0:S.scrollIntoView)==null?void 0:n.call(S,{block:"nearest"})})});function m(S){if(e.disabled)return S.preventDefault();l.selectOption(t),l.mode.value===0&&l.closeCombobox(),Xe()||requestAnimationFrame(()=>{var n;return(n=P(l.inputRef))==null?void 0:n.focus()})}function c(){if(e.disabled)return l.goToOption(A.Nothing);l.goToOption(A.Specific,t)}let v=ze();function F(S){v.update(S)}function j(S){v.wasMoved(S)&&(e.disabled||p.value||l.goToOption(A.Specific,t,0))}function E(S){v.wasMoved(S)&&(e.disabled||p.value&&(l.optionsPropsRef.value.hold||l.goToOption(A.Nothing)))}return()=>{let{disabled:S}=e,n={active:p.value,selected:d.value,disabled:S},y={id:t,ref:O,role:"option",tabIndex:S===!0?void 0:-1,"aria-disabled":S===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:m,onFocus:c,onPointerenter:F,onMouseenter:F,onPointermove:j,onMousemove:j,onPointerleave:E,onMouseleave:E};return ee({ourProps:y,theirProps:e,slot:n,attrs:B,slots:T,name:"ComboboxOption"})}}});const it={key:0,class:"inline-flex flex-wrap items-center gap-1 pt-4"},ut={class:"text-xs leading-none text-gray-400"},rt={class:"pointer-events-none inline-flex min-h-[1.375rem] items-center gap-1 rounded-md border border-dark/25 bg-gray-200 px-0.5"},st={class:"text-sm"},dt={key:0,class:"relative cursor-default select-none px-4 py-2 font-semibold text-gray-700"},vt=["aria-selected"],pt={class:"font-semibold leading-tight"},ht={__name:"tList",props:{modelValue:[Object,String,Number,Boolean],options:Array,name:String,label:{type:String,default:null},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hint:{type:String,default:null},error:{type:Boolean,default:null},errorMessage:{type:String,default:null},cursor:{type:String,default:"cursor-text",validator:e=>/^cursor-/.test(e)},clearable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},readonlyOnLoad:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},wrapperClass:{type:[String,Array],default:()=>[]},innerClass:{type:[String,Array],default:()=>[]},portal:{type:Boolean,default:!0},itemHeight:{type:Number,default:30},maxItemShown:{type:Number,default:10},multiple:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},subKey:{type:String,default:"description"},valueKey:{type:String,default:"value"},format:{type:Function,default:null},hideSelectedItem:{type:Boolean,default:!1},noCounter:{type:Boolean,default:!1},onFilter:{type:Function,default:null},emitFormat:{type:Function,default:null}},emits:["update:modelValue","clickedOutside","clickedInside"],setup(e,{emit:T}){const{width:B,height:D}=Te(),l=Ve(),t=e,O=T,p=V(""),d=V(null),b=V([Ne({crossAxis:!0,limiter:Me({crossAxis:!1})})]),m=V({width:0,height:0}),c=V([]),v=Fe(t,"modelValue",O),F=x(()=>Array.isArray(t.wrapperClass)?t.wrapperClass:[t.wrapperClass]),j=x(()=>{let o=t.maxItemShown,a=c.value.length,i=t.itemHeight,r=a>o?o:a||1,u=i*r;if(u>=D.value){let f=Math.floor(D.value/i);u=i*f}return`${1*u}px`});x(()=>t.searchable?"template":oe);const E=o=>{m.value.width=o.offsetWidth,m.value.height=o.offsetHeight},S=o=>{O("clickedOutside",o)},n=(o,a,i)=>{i||o.preventDefault();let r=v.value.indexOf(a);r>-1&&v.value.splice(r,1)},y=o=>t.format?t.format(o):o,h=(o="")=>{p.value=o,c.value=t.onFilter?t.onFilter(o,t.options):I(o,t.options)},$=o=>{if(t.emitFormat){let a=null;return t.multiple?a=(o==null?void 0:o.map(t.emitFormat))??[]:a=t.emitFormat(o),a}return t.multiple?o:(o==null?void 0:o[t.valueKey])??null},I=(o,a)=>o==""?a.map(i=>y(i)):a.filter(i=>i[t.labelKey].toLowerCase().replace(/\s+/g,"").includes(o.toLowerCase().replace(/\s+/g,""))).map(i=>y(i)),s=o=>t.format||t.multiple?o:t.options.find(a=>a[t.valueKey]==o)??null,L=o=>{O("update:modelValue",$(o))};return _(c,()=>{var o;(o=d.value)==null||o.scrollTo(0)}),_(()=>t.options,o=>{c.value=y(o)}),re(()=>{h()}),(o,a)=>{const i=ae("TButton"),r=ae("TSpinnerOrbit"),u=ae("TIcon"),f=ae("TFieldWrapper");return N(),Q(g(lt),{modelValue:s(g(v)),"onUpdate:modelValue":L,nullable:"",multiple:e.multiple},{default:H(({open:R})=>[U(g(we),{as:"template",portal:e.portal,flip:"",middleware:b.value,strategy:"fixed",placement:"bottom-start",offset:4,leave:"transition ease-in duration-100","leave-from":"opacity-100","leave-to":"opacity-0","floating-as":"template",onHide:a[4]||(a[4]=k=>(p.value="",h("")))},{default:H(()=>[U(f,fe({tag:e.searchable?"label":g(oe),as:"label",label:e.label,error:e.error,errorMessage:e.errorMessage,disabled:e.disabled,readonly:e.readonlyOnLoad&&e.loading||e.readonly,hint:e.hint,cursor:e.searchable?e.cursor:"cursor-pointer"},o.$attrs,{class:["relative",F.value],onResize:E,innerClass:e.innerClass,onClick:a[2]||(a[2]=k=>e.searchable?null:k.preventDefault())}),Ee({default:H(({classNames:k,attr:K})=>[e.multiple?(N(),X("div",it,[!e.noCounter&&g(v).length>0?q(o.$slots,"itemCount",{key:0,total:g(v).length,hasQuery:!!p.value},()=>[Y("span",ut,J(`${g(v).length} Selected`),1)]):G("",!0),e.hideSelectedItem?G("",!0):(N(!0),X(ve,{key:1},me(g(v),w=>q(o.$slots,"selectedItem",{key:w,data:w,remove:se=>n(se,w,R)},()=>[Y("div",rt,[Y("span",st,J(w[e.labelKey]),1),U(i,{icon:"close",iconSize:"xs",tabindex:"-1",class:"pointer-events-auto aspect-square rounded-full bg-dark/20 p-0.5",onClick:se=>n(se,w,R)},null,8,["onClick"])])])),128))])):G("",!0),e.searchable?(N(),Q(g(at),fe({key:1,"display-value":w=>e.multiple?"":w==null?void 0:w[e.labelKey],onChange:a[0]||(a[0]=w=>{h(w.target.value)})},K,{placeholder:(Array.isArray(g(v))?g(v).length>0:g(v))?null:" ",class:["min-h-[1.375rem]",[e.multiple&&"!w-auto",...k,(e.clearable&&(Array.isArray(g(v))?g(v).length>0:g(v)),"")]]}),null,16,["display-value","placeholder","class"])):(N(),Q(g(oe),{key:2,as:"div",class:Z(["min-h-[1.375rem] min-w-[3.75rem]",[...k,(e.clearable&&g(v),"")]])},{default:H(()=>{var w;return[Ae(J((w=g(v))==null?void 0:w[e.labelKey]),1)]}),_:2},1032,["class"]))]),append:H(()=>[e.loading?(N(),Q(r,{key:0,class:"h-6 w-6",color:"hsl(var(--color-dark))"})):(N(),X(ve,{key:1},[e.clearable&&(e.multiple?g(v).length>0:g(v))?(N(),Q(i,{key:0,icon:"close",iconSize:"sm",class:"rounded-full text-gray-400",onClick:a[1]||(a[1]=k=>v.value=e.multiple?[]:null)})):G("",!0),U(g(oe),{class:"flex items-center",disabled:e.disabled||e.readonly||e.loading},{default:H(()=>[U(u,{class:"text-gray-400",name:"unfold_more"})]),_:1},8,["disabled"])],64)),q(o.$slots,"append")]),error:H(()=>[q(o.$slots,"error")]),_:2},[me(g(l),(k,K)=>({name:K,fn:H(w=>[q(o.$slots,K,$e(Be(w)))])}))]),1040,["tag","label","error","errorMessage","disabled","readonly","hint","cursor","class","innerClass"]),U(g(ot),{class:"relative max-w-[95dvw] overflow-y-auto overflow-x-hidden rounded-lg border border-gray-500/25 bg-light text-dark shadow-lg focus:outline-none sm:text-sm",style:de(`min-width: ${m.value.width}px`),as:"div",unmount:""},{default:H(()=>[!c.value&&!e.options||c.value.length<=0||e.options.length<=0?(N(),X("div",dt,J(e.loading?"Loading...":"Nothing found."),1)):Ke((N(),Q(g(De),{key:1,ref_key:"virtualList",ref:d,class:"TScroll w-full",onClick:a[3]||(a[3]=k=>O("clickedInside")),list:c.value,options:{itemHeight:e.itemHeight},style:de({height:j.value})},{default:H(({data:k})=>[U(g(nt),{value:k,as:"template"},{default:H(({selected:K,active:w})=>[q(o.$slots,"option",{value:k,selected:K,active:w},()=>[Y("div",{class:Z(["relative flex cursor-pointer select-none items-center gap-1 rounded-md px-2 leading-none text-dark",[K&&"bg-slate-700 text-light",w&&"bg-slate-600 text-light"]]),style:de({height:`${e.itemHeight}px`}),role:"option",tabindex:"-1","aria-selected":K},[Y("div",{class:Z(["block flex-auto truncate leading-none",K?"font-medium":"font-normal"])},[Y("div",pt,J(k[e.labelKey]),1),k[e.subKey]?(N(),X("div",{key:0,class:Z(["text-xs italic leading-none",[w||K?"text-white":"text-gray-500/75"]])},J(k[e.subKey]),3)):G("",!0)],2),K?(N(),X("span",{key:0,class:Z(["flex items-center",w||K?"text-white":"text-secondary"])},[U(u,{name:"check",size:"sm"})],2)):G("",!0)],14,vt)])]),_:2},1032,["value"])]),_:3},8,["list","options","style"])),[[g(Le),S]]),q(o.$slots,"appendOptions")]),_:3},8,["style"])]),_:2},1032,["portal","middleware"])]),_:3},8,["modelValue","multiple"])}}};export{ht as default};
