import{W as I,a as b,c as v,w as C,b as d,d as g,m as K,s as a,t as h,e as k,p as x,f as w,y as O,l as i,h as j,k as q,q as S,j as P,g as U}from"./index-2sZdn9Tb.js";const A={class:"flex flex-col"},D={class:"flex-auto"},E={class:"grid gap-1 p-1"},F={class:"flex items-center gap-1 text-sm"},H={class:"flex-auto leading-none"},L=a("span",{class:"font-semibold"},"Filter:",-1),M={class:"flex items-center gap-1 leading-tight text-gray-400"},W={class:"flex-auto px-1 text-sm font-normal italic"},J={__name:"searchableColumn",props:{modelValue:[Object,String],label:String,columnName:String,currentColumn:String,searchable:{type:Boolean,default:!1},sortable:{type:Boolean,default:!1},order:{type:String,default:"desc",validator:e=>["asc","desc"].indexOf(e.toLowerCase())>-1}},emits:["update:modelValue","update:order","sort"],setup(e,{emit:V}){const t=e,u=V,y=I.uniqid(),l=b(t.modelValue),m=b(!1),_=v(()=>t.modelValue),p=v({get:()=>t.order,set:o=>u("update:order",o)}),T=v(()=>t.columnName==t.currentColumn),r=o=>{u("update:modelValue",o)},B=()=>{t.sortable&&(p.value=p.value=="asc"?"desc":"asc",u("sort",t.columnName))};return C(_,o=>{l.value=o}),C(m,o=>{o||(l.value=t.modelValue)}),(o,s)=>{const N=d("TIcon"),f=d("TButton"),z=d("TInput"),$=d("TPopover");return g(),K("div",A,[a("div",{class:U(["group flex items-center px-2 pb-0.5 pt-1 font-bold",[e.sortable&&"cursor-pointer select-none"]]),onClick:B},[a("div",D,h(e.label),1),e.sortable&&T.value?(g(),k(N,{key:0,name:p.value=="desc"?"arrow_drop_up":"arrow_drop_down",size:"xs"},null,8,["name"])):x("",!0),e.searchable?(g(),k($,{key:1,shown:m.value,"onUpdate:shown":s[1]||(s[1]=n=>m.value=n),arrow:"",icon:"filter_alt",iconSize:"xs",btnClass:"rounded-lg p-0.5",onClick:s[2]||(s[2]=P(()=>{},["stop"]))},{default:w(({close:n})=>[a("div",E,[a("div",F,[a("div",H,[L,O(" "+h(e.label),1)]),i(f,{icon:"close",iconSize:"sm",onClick:n,class:"rounded-full"},null,8,["onClick"])]),S(o.$slots,"default",{id:j(y),close:()=>n(),onSearch:c=>r(c),model:l.value},()=>[i(z,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=c=>l.value=c),label:"Search",innerClass:"bg-light text-dark pr-0 overflow-hidden",class:"min-w-max",onKeyup:q(c=>(r(l.value),n()),["enter"])},{append:w(()=>[i(f,{label:"Ok",class:"self-stretch bg-primary bg-glossy px-2 text-light",onClick:c=>(r(l.value),n())},null,8,["onClick"])]),_:2},1032,["modelValue","onKeyup"])])])]),_:3},8,["shown"])):x("",!0)],2),e.modelValue?S(o.$slots,"selected",{key:0,search:l.value,clear:()=>r(null)},()=>[a("div",M,[a("div",W,h(e.modelValue),1),i(f,{icon:"close",iconSize:"xs",class:"rounded-full p-0.5",onClick:s[3]||(s[3]=n=>r(null))})])]):x("",!0)])}}};export{J as default};
